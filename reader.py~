import ENDF6
import matplotlib.pyplot as plt
import re,os

folder = 'data/Type1/'
for filename in os.listdir(folder):
 name=folder+filename
 f = open(name,"r")
 lines = f.readlines()
 sec = ENDF6.find_section(lines, MF=3, MT=5)  # total cross-section
 x, y = ENDF6.read_table(sec)
 ZA=[int(s) for s in re.split('_|-|',name) if s.isdigit()]
 outname='data/output/'+'inel'+str(ZA[0])+'_'+str(ZA[1])
 f = open(outname,"w")
 f.write(str(x[1]/pow(10,6))+' '+ str(x[-1]/pow(10,6))+' '+ str(len(x))+'\n')
 f.write(str(len(x))+'\n')
 i=0
 while i < len(x):
  f.write(str(x[i]/pow(10,6))+' '+str(round(y[i]*pow(10,-23),32))+'\n')
  i+=1
